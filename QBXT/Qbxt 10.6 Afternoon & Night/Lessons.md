# $10.6$ $Evening$

标签（空格分隔）： Note

---
### 例题1 ： 解方程
> 现在有一个多项式方程大概模式为$A_{0} + A_{1}X + A_{2}X ^ 2...A_{N}X ^ N$要求求出这个方程在[1, M]之内的整数解。其中$N\in{[0, 100]}$, $M\in{[0, 1000000]}$,$|A_{i}|<[10 ^ {10000}]$

先看暴力方法。首先对所有的$A_{i}$对一个数取模，然后枚举$1$ ~ $M$，再计算看加起来是不是等于0。复杂度$O(NM)$并不能过掉。
我们假设这个方程为$F(X)$，那么我们知道$F(X + P)$ = $F(X)$ % $P$.所以$F(X)$ % $P \ne 0$时，$F(X)$ % $KP \ne 0$那么$F(X + KP)$就并不需要枚举。所以我们枚举所有的$0$ ~ $P - 1$，判断是否可行，然后如果有不可行的，那么我们就可以用它去排除X比较大的时候的答案。
但是由于有%的出现，所以有很大的可能会失败。所以最好多选几个P。时间复杂度为$O(PN)$。可以过掉。

### 例题2 ： 智商锁。
> 构造一个点数不超过$100$的无自环无重边的无向图使得生成树个数在膜$$998244353$的情况下等于$K$。

首先我们要知道怎么求出一张图的生成树个数。这个方法叫做基尔霍夫矩阵法。若存在边$(i, j)$，则有$M[i][j] = M[j][i] = - 1$，否则$M[i][j] = M[j][i] = 0$。$M[i][i] = $点$i$的度数。删除该矩阵的第一行和第一列，其行列式即为生成树个数。
上面那一堆玩意就是基尔霍夫矩阵，虽然我也不知道这到底是一个他妈的什么狗东西，我也不会证明。
我们随机$10^12$个图，假如这个图近似随机，一个数被覆盖的概率为$1-(1-1/10^9)^(10^12)$。所有数都被覆盖的概率为一个数被覆盖的概率的$10^9$方。（近似）这个值是十分趋向于$1$的。
问题转换为如何构造$10^{12}$个随机的图。
考虑将其分成$4$份，每份都是$12$个点每条边有$0.8$概率出现的随机图，令这$4$张图的生成树个数为$F_{A}, F_{B}, F_{C}, F_{D}$，如果我们将这$4$张图用$3$条边连接起来，就是$F_{A}\times F_{B}\times F_{C}\times F_{D}$个生成树。
而这个值显然是可以$Meet$ $In$ $The$ $Middle$的。
由于每张图近似随机，可以看做生成树个数是$0$ ~ $998244352$中的一个随机数。

### 例题3 ： Bzoj 1045
> 有$N$个人围成一圈，第$i$个人手里有$A_{i}$个糖果。每次每个人可以给旁边的人一颗糖果，代价为$1$。
为最少多少代价能使所有人拥有的糖果数量一样多。
$N <= 10w$。

我们知道每个人最终的糖果数都是$\sum_{i = 1}^{i <= N}A_{i} / N$。我们知道两个小朋友之间只会是一个小朋友不断地给另外一个小朋友糖果，因为不可能存在一种方案是两个人之间不断地$Gay♂$来$Gay♂$去。我们用$X[i]$表示第i个小朋友给了第$i - 1$个小朋友多少糖果，当然，$X[i]$是可能为负数的，那么答案也就是$\sum X[i]$。并且我们还可以得到下面一个式子$A[i] - X[i] + X[i+1] = \sum_{i = 1}^{i <= N}A_{i} / N$这个式子很好理解。当前这些个小朋友的糖果减去自己给去别人的糖果，加上别然给自己的糖果就是最后得到的糖果总数。我们用$Fin$表示$\sum_{i = 1}^{i <= N}A_{i} / N$，那么我们就可以用上面的等式将答案进行化简。最后得到：
$Ans = |X[1]-0|+|X[1]-C[1]|+|X[1]-C[2]|+…+|X[1]-C[n-1]|$，其中$C[i] = A[i] - Fin$表示现在和最后的差值。

### 例题4 ： 异或矩阵
> 在一个$N\times M$的$01$矩阵中，有$K$个格子已经确定是$0$还是$1$，要求确定其它格子的值，使得这个矩阵每行/列的异或和都为$1$。求方案总数对$1e9+7$取模后的值。
$N,M<=1000,K < max(N,M)$。

我们不妨设$N >= M$，且最后一行没有数已经填了。
只要我们填了前$N-1$行，且满足这些行的异或和为$1$，此时要使每一列的异或和都为$1$，最后一行填的数的方案是唯一的。
只要当$N,M$同奇偶时，最后一行的异或和一定为$1$。
对于每一行，只要有$m-1$个数确定了，那么剩下的一个位置的值是唯一的。
假设第$i$行有$x$个位置没被填，则它对答案的贡献为$2^(x-1)$次，注意判断无解的情况。


